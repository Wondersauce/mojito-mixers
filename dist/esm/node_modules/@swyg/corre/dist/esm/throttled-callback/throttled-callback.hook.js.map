{"version":3,"file":"throttled-callback.hook.js","sources":["../../../../../../../../node_modules/@swyg/corre/dist/esm/throttled-callback/throttled-callback.hook.js"],"sourcesContent":["import { useRef, useEffect, useCallback } from 'react';\n\n/**\r\n * Returns a throttled version of `callback` with the specified delay.\r\n */\r\nfunction useThrottledCallback(callback, delay, deps = [], options = {}) {\r\n    const timeoutRef = useRef();\r\n    const callbackRef = useRef(callback);\r\n    const lastCalledRef = useRef(0);\r\n    const { makeResponsive } = options;\r\n    // Remember the latest callback:\r\n    //\r\n    // Without this, if you change the callback, when setTimeout kicks in, it\r\n    // will still call your old callback.\r\n    //\r\n    // If you add `callback` to useCallback's deps, it will also update, but it\r\n    // might be called twice if the timeout had already been set.\r\n    useEffect(() => {\r\n        callbackRef.current = callback;\r\n    }, [callback]);\r\n    // Clear timeout if the components is unmounted or the delay changes:\r\n    useEffect(() => {\r\n        window.clearTimeout(timeoutRef.current);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [...deps, delay]);\r\n    return useCallback((...args) => {\r\n        // Clear previous timer:\r\n        window.clearTimeout(timeoutRef.current);\r\n        function invoke() {\r\n            callbackRef.current(...args);\r\n            lastCalledRef.current = Date.now();\r\n        }\r\n        // Calculate elapsed time:\r\n        const elapsed = Date.now() - lastCalledRef.current;\r\n        if (elapsed >= delay && !makeResponsive) {\r\n            // If already waited enough, call callback:\r\n            invoke();\r\n        }\r\n        else {\r\n            // Otherwise, we need to wait a bit more:\r\n            timeoutRef.current = window.setTimeout(invoke, Math.max(delay - elapsed, 0));\r\n        }\r\n        // The spread element means passed dependencies can't be statically verified (that's fine):\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [...deps, makeResponsive]);\r\n}\n\nexport { useThrottledCallback };\n//# sourceMappingURL=throttled-callback.hook.js.map\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA,SAAS,oBAAoB,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,EAAE;AACxE,IAAI,MAAM,UAAU,GAAG,MAAM,EAAE,CAAC;AAChC,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;AACzC,IAAI,MAAM,aAAa,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AACpC,IAAI,MAAM,EAAE,cAAc,EAAE,GAAG,OAAO,CAAC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,WAAW,CAAC,OAAO,GAAG,QAAQ,CAAC;AACvC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACnB;AACA,IAAI,SAAS,CAAC,MAAM;AACpB,QAAQ,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAChD;AACA,KAAK,EAAE,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;AACzB,IAAI,OAAO,WAAW,CAAC,CAAC,GAAG,IAAI,KAAK;AACpC;AACA,QAAQ,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAChD,QAAQ,SAAS,MAAM,GAAG;AAC1B,YAAY,WAAW,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;AACzC,YAAY,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;AAC/C,SAAS;AACT;AACA,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,aAAa,CAAC,OAAO,CAAC;AAC3D,QAAQ,IAAI,OAAO,IAAI,KAAK,IAAI,CAAC,cAAc,EAAE;AACjD;AACA,YAAY,MAAM,EAAE,CAAC;AACrB,SAAS;AACT,aAAa;AACb;AACA,YAAY,UAAU,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,OAAO,EAAE,CAAC,CAAC,CAAC,CAAC;AACzF,SAAS;AACT;AACA;AACA,KAAK,EAAE,CAAC,GAAG,IAAI,EAAE,cAAc,CAAC,CAAC,CAAC;AAClC;;;;"}