{"version":3,"file":"ScalarLeafsRule.mjs.js","sources":["../../../../../../node_modules/graphql/validation/rules/ScalarLeafsRule.mjs"],"sourcesContent":["import { inspect } from '../../jsutils/inspect.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\nimport { getNamedType, isLeafType } from '../../type/definition.mjs';\n\n/**\n * Scalar leafs\n *\n * A GraphQL document is valid only if all leaf fields (fields without\n * sub selections) are of scalar or enum types.\n */\nexport function ScalarLeafsRule(context) {\n  return {\n    Field(node) {\n      const type = context.getType();\n      const selectionSet = node.selectionSet;\n\n      if (type) {\n        if (isLeafType(getNamedType(type))) {\n          if (selectionSet) {\n            const fieldName = node.name.value;\n            const typeStr = inspect(type);\n            context.reportError(\n              new GraphQLError(\n                `Field \"${fieldName}\" must not have a selection since type \"${typeStr}\" has no subfields.`,\n                {\n                  nodes: selectionSet,\n                },\n              ),\n            );\n          }\n        } else if (!selectionSet) {\n          const fieldName = node.name.value;\n          const typeStr = inspect(type);\n          context.reportError(\n            new GraphQLError(\n              `Field \"${fieldName}\" of type \"${typeStr}\" must have a selection of subfields. Did you mean \"${fieldName} { ... }\"?`,\n              {\n                nodes: node,\n              },\n            ),\n          );\n        }\n      }\n    },\n  };\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,eAAe,CAAC,OAAO,EAAE;AACzC,EAAE,OAAO;AACT,IAAI,KAAK,CAAC,IAAI,EAAE;AAChB,MAAM,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;AACrC,MAAM,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;AAC7C;AACA,MAAM,IAAI,IAAI,EAAE;AAChB,QAAQ,IAAI,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE;AAC5C,UAAU,IAAI,YAAY,EAAE;AAC5B,YAAY,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAC9C,YAAY,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAC1C,YAAY,OAAO,CAAC,WAAW;AAC/B,cAAc,IAAI,YAAY;AAC9B,gBAAgB,CAAC,OAAO,EAAE,SAAS,CAAC,wCAAwC,EAAE,OAAO,CAAC,mBAAmB,CAAC;AAC1G,gBAAgB;AAChB,kBAAkB,KAAK,EAAE,YAAY;AACrC,iBAAiB;AACjB,eAAe;AACf,aAAa,CAAC;AACd,WAAW;AACX,SAAS,MAAM,IAAI,CAAC,YAAY,EAAE;AAClC,UAAU,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAC5C,UAAU,MAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACxC,UAAU,OAAO,CAAC,WAAW;AAC7B,YAAY,IAAI,YAAY;AAC5B,cAAc,CAAC,OAAO,EAAE,SAAS,CAAC,WAAW,EAAE,OAAO,CAAC,oDAAoD,EAAE,SAAS,CAAC,UAAU,CAAC;AAClI,cAAc;AACd,gBAAgB,KAAK,EAAE,IAAI;AAC3B,eAAe;AACf,aAAa;AACb,WAAW,CAAC;AACZ,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ;;;;"}