{"version":3,"file":"useTabsList.js","sources":["../../../../../../node_modules/@mui/base/TabsListUnstyled/useTabsList.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { unstable_ownerDocument as ownerDocument, unstable_useForkRef as useForkRef } from '@mui/utils';\nimport { isFragment } from 'react-is';\nimport { useTabContext } from '../TabsUnstyled';\nimport extractEventHandlers from '../utils/extractEventHandlers';\n\nconst nextItem = (list, item) => {\n  if (!list) {\n    return null;\n  }\n\n  if (list === item) {\n    return list.firstChild;\n  }\n\n  if (item && item.nextElementSibling) {\n    return item.nextElementSibling;\n  }\n\n  return list.firstChild;\n};\n\nconst previousItem = (list, item) => {\n  if (!list) {\n    return null;\n  }\n\n  if (list === item) {\n    return list.lastChild;\n  }\n\n  if (item && item.previousElementSibling) {\n    return item.previousElementSibling;\n  }\n\n  return list.lastChild;\n};\n\nconst moveFocus = (list, currentFocus, traversalFunction) => {\n  let wrappedOnce = false;\n  let nextFocus = traversalFunction(list, currentFocus);\n\n  while (list && nextFocus) {\n    // Prevent infinite loop.\n    if (nextFocus === list.firstChild) {\n      if (wrappedOnce) {\n        return;\n      }\n\n      wrappedOnce = true;\n    } // Same logic as useAutocomplete.js\n\n\n    const nextFocusDisabled = nextFocus.disabled || nextFocus.getAttribute('aria-disabled') === 'true';\n\n    if (!nextFocus.hasAttribute('tabindex') || nextFocusDisabled) {\n      // Move to the next element.\n      nextFocus = traversalFunction(list, nextFocus);\n    } else {\n      nextFocus.focus();\n      return;\n    }\n  }\n};\n\nconst useTabsList = props => {\n  const {\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    children,\n    ref\n  } = props;\n  const tabsListRef = /*#__PURE__*/React.createRef();\n  const handleRef = useForkRef(tabsListRef, ref);\n  const context = useTabContext();\n\n  if (context === null) {\n    throw new Error('No TabContext provided');\n  }\n\n  const {\n    value,\n    orientation = 'horizontal',\n    direction = 'ltr'\n  } = context;\n  const isRtl = direction === 'rtl';\n\n  const handleKeyDown = event => {\n    const list = tabsListRef.current;\n    const currentFocus = ownerDocument(list).activeElement; // Keyboard navigation assumes that [role=\"tab\"] are siblings\n    // though we might warn in the future about nested, interactive elements\n    // as a a11y violation\n\n    const role = currentFocus == null ? void 0 : currentFocus.getAttribute('role');\n\n    if (role !== 'tab') {\n      return;\n    }\n\n    let previousItemKey = orientation === 'horizontal' ? 'ArrowLeft' : 'ArrowUp';\n    let nextItemKey = orientation === 'horizontal' ? 'ArrowRight' : 'ArrowDown';\n\n    if (orientation === 'horizontal' && isRtl) {\n      // swap previousItemKey with nextItemKey\n      previousItemKey = 'ArrowRight';\n      nextItemKey = 'ArrowLeft';\n    }\n\n    switch (event.key) {\n      case previousItemKey:\n        event.preventDefault();\n        moveFocus(list, currentFocus, previousItem);\n        break;\n\n      case nextItemKey:\n        event.preventDefault();\n        moveFocus(list, currentFocus, nextItem);\n        break;\n\n      case 'Home':\n        event.preventDefault();\n        moveFocus(list, null, nextItem);\n        break;\n\n      case 'End':\n        event.preventDefault();\n        moveFocus(list, null, previousItem);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const createHandleKeyDown = otherHandlers => event => {\n    var _otherHandlers$onKeyD;\n\n    handleKeyDown(event);\n    (_otherHandlers$onKeyD = otherHandlers.onKeyDown) == null ? void 0 : _otherHandlers$onKeyD.call(otherHandlers, event);\n  };\n\n  const getRootProps = otherHandlers => {\n    const propsEventHandlers = extractEventHandlers(props);\n\n    const externalEventHandlers = _extends({}, propsEventHandlers, otherHandlers);\n\n    const ownEventHandlers = {\n      onKeyDown: createHandleKeyDown(externalEventHandlers)\n    };\n\n    const mergedEventHandlers = _extends({}, externalEventHandlers, ownEventHandlers);\n\n    return _extends({\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-orientation': orientation === 'vertical' ? 'vertical' : null,\n      role: 'tablist',\n      ref: handleRef\n    }, mergedEventHandlers);\n  };\n\n  const processChildren = React.useCallback(() => {\n    const valueToIndex = new Map();\n    let childIndex = 0;\n    const processedChildren = React.Children.map(children, child => {\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return null;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (isFragment(child)) {\n          console.error([\"MUI: The Tabs component doesn't accept a Fragment as a child.\", 'Consider providing an array instead.'].join('\\n'));\n        }\n      }\n\n      const childValue = child.props.value === undefined ? childIndex : child.props.value;\n      valueToIndex.set(childValue, childIndex);\n      childIndex += 1;\n      return /*#__PURE__*/React.cloneElement(child, _extends({\n        value: childValue\n      }, childIndex === 1 && value === false && !child.props.tabIndex || value === childValue ? {\n        tabIndex: 0\n      } : {\n        tabIndex: -1\n      }));\n    });\n    return processedChildren;\n  }, [children, value]);\n  return {\n    isRtl,\n    orientation,\n    value,\n    processChildren,\n    getRootProps\n  };\n};\n\nexport default useTabsList;"],"names":["React","useForkRef","useTabContext","ownerDocument","extractEventHandlers","_extends","isFragment"],"mappings":"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"}