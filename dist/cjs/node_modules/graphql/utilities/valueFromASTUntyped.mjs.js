'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var keyValMap = require('../jsutils/keyValMap.mjs.js');
var kinds = require('../language/kinds.mjs.js');

/**
 * Produces a JavaScript value given a GraphQL Value AST.
 *
 * Unlike `valueFromAST()`, no type is provided. The resulting JavaScript value
 * will reflect the provided GraphQL value AST.
 *
 * | GraphQL Value        | JavaScript Value |
 * | -------------------- | ---------------- |
 * | Input Object         | Object           |
 * | List                 | Array            |
 * | Boolean              | Boolean          |
 * | String / Enum        | String           |
 * | Int / Float          | Number           |
 * | Null                 | null             |
 *
 */

function valueFromASTUntyped(valueNode, variables) {
  switch (valueNode.kind) {
    case kinds.Kind.NULL:
      return null;

    case kinds.Kind.INT:
      return parseInt(valueNode.value, 10);

    case kinds.Kind.FLOAT:
      return parseFloat(valueNode.value);

    case kinds.Kind.STRING:
    case kinds.Kind.ENUM:
    case kinds.Kind.BOOLEAN:
      return valueNode.value;

    case kinds.Kind.LIST:
      return valueNode.values.map((node) =>
        valueFromASTUntyped(node, variables),
      );

    case kinds.Kind.OBJECT:
      return keyValMap.keyValMap(
        valueNode.fields,
        (field) => field.name.value,
        (field) => valueFromASTUntyped(field.value, variables),
      );

    case kinds.Kind.VARIABLE:
      return variables === null || variables === void 0
        ? void 0
        : variables[valueNode.name.value];
  }
}

exports.valueFromASTUntyped = valueFromASTUntyped;
//# sourceMappingURL=valueFromASTUntyped.mjs.js.map
