{"version":3,"file":"UniqueInputFieldNamesRule.mjs.js","sources":["../../../../../../node_modules/graphql/validation/rules/UniqueInputFieldNamesRule.mjs"],"sourcesContent":["import { invariant } from '../../jsutils/invariant.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique input field names\n *\n * A GraphQL input object value is only valid if all supplied fields are\n * uniquely named.\n *\n * See https://spec.graphql.org/draft/#sec-Input-Object-Field-Uniqueness\n */\nexport function UniqueInputFieldNamesRule(context) {\n  const knownNameStack = [];\n  let knownNames = Object.create(null);\n  return {\n    ObjectValue: {\n      enter() {\n        knownNameStack.push(knownNames);\n        knownNames = Object.create(null);\n      },\n\n      leave() {\n        const prevKnownNames = knownNameStack.pop();\n        prevKnownNames || invariant(false);\n        knownNames = prevKnownNames;\n      },\n    },\n\n    ObjectField(node) {\n      const fieldName = node.name.value;\n\n      if (knownNames[fieldName]) {\n        context.reportError(\n          new GraphQLError(\n            `There can be only one input field named \"${fieldName}\".`,\n            {\n              nodes: [knownNames[fieldName], node.name],\n            },\n          ),\n        );\n      } else {\n        knownNames[fieldName] = node.name;\n      }\n    },\n  };\n}\n"],"names":["invariant","GraphQLError"],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,yBAAyB,CAAC,OAAO,EAAE;AACnD,EAAE,MAAM,cAAc,GAAG,EAAE,CAAC;AAC5B,EAAE,IAAI,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACvC,EAAE,OAAO;AACT,IAAI,WAAW,EAAE;AACjB,MAAM,KAAK,GAAG;AACd,QAAQ,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AACxC,QAAQ,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,OAAO;AACP;AACA,MAAM,KAAK,GAAG;AACd,QAAQ,MAAM,cAAc,GAAG,cAAc,CAAC,GAAG,EAAE,CAAC;AACpD,QAAQ,cAAc,IAAIA,mBAAS,CAAC,KAAK,CAAC,CAAC;AAC3C,QAAQ,UAAU,GAAG,cAAc,CAAC;AACpC,OAAO;AACP,KAAK;AACL;AACA,IAAI,WAAW,CAAC,IAAI,EAAE;AACtB,MAAM,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AACxC;AACA,MAAM,IAAI,UAAU,CAAC,SAAS,CAAC,EAAE;AACjC,QAAQ,OAAO,CAAC,WAAW;AAC3B,UAAU,IAAIC,yBAAY;AAC1B,YAAY,CAAC,yCAAyC,EAAE,SAAS,CAAC,EAAE,CAAC;AACrE,YAAY;AACZ,cAAc,KAAK,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC;AACvD,aAAa;AACb,WAAW;AACX,SAAS,CAAC;AACV,OAAO,MAAM;AACb,QAAQ,UAAU,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC;AAC1C,OAAO;AACP,KAAK;AACL,GAAG,CAAC;AACJ;;;;"}