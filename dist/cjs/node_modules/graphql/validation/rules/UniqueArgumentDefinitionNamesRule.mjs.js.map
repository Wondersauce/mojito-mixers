{"version":3,"file":"UniqueArgumentDefinitionNamesRule.mjs.js","sources":["../../../../../../node_modules/graphql/validation/rules/UniqueArgumentDefinitionNamesRule.mjs"],"sourcesContent":["import { groupBy } from '../../jsutils/groupBy.mjs';\nimport { GraphQLError } from '../../error/GraphQLError.mjs';\n\n/**\n * Unique argument definition names\n *\n * A GraphQL Object or Interface type is only valid if all its fields have uniquely named arguments.\n * A GraphQL Directive is only valid if all its arguments are uniquely named.\n */\nexport function UniqueArgumentDefinitionNamesRule(context) {\n  return {\n    DirectiveDefinition(directiveNode) {\n      var _directiveNode$argume;\n\n      // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n      const argumentNodes =\n        (_directiveNode$argume = directiveNode.arguments) !== null &&\n        _directiveNode$argume !== void 0\n          ? _directiveNode$argume\n          : [];\n      return checkArgUniqueness(`@${directiveNode.name.value}`, argumentNodes);\n    },\n\n    InterfaceTypeDefinition: checkArgUniquenessPerField,\n    InterfaceTypeExtension: checkArgUniquenessPerField,\n    ObjectTypeDefinition: checkArgUniquenessPerField,\n    ObjectTypeExtension: checkArgUniquenessPerField,\n  };\n\n  function checkArgUniquenessPerField(typeNode) {\n    var _typeNode$fields;\n\n    const typeName = typeNode.name.value; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n    /* c8 ignore next */\n\n    const fieldNodes =\n      (_typeNode$fields = typeNode.fields) !== null &&\n      _typeNode$fields !== void 0\n        ? _typeNode$fields\n        : [];\n\n    for (const fieldDef of fieldNodes) {\n      var _fieldDef$arguments;\n\n      const fieldName = fieldDef.name.value; // FIXME: https://github.com/graphql/graphql-js/issues/2203\n\n      /* c8 ignore next */\n\n      const argumentNodes =\n        (_fieldDef$arguments = fieldDef.arguments) !== null &&\n        _fieldDef$arguments !== void 0\n          ? _fieldDef$arguments\n          : [];\n      checkArgUniqueness(`${typeName}.${fieldName}`, argumentNodes);\n    }\n\n    return false;\n  }\n\n  function checkArgUniqueness(parentName, argumentNodes) {\n    const seenArgs = groupBy(argumentNodes, (arg) => arg.name.value);\n\n    for (const [argName, argNodes] of seenArgs) {\n      if (argNodes.length > 1) {\n        context.reportError(\n          new GraphQLError(\n            `Argument \"${parentName}(${argName}:)\" can only be defined once.`,\n            {\n              nodes: argNodes.map((node) => node.name),\n            },\n          ),\n        );\n      }\n    }\n\n    return false;\n  }\n}\n"],"names":["groupBy","GraphQLError"],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,iCAAiC,CAAC,OAAO,EAAE;AAC3D,EAAE,OAAO;AACT,IAAI,mBAAmB,CAAC,aAAa,EAAE;AACvC,MAAM,IAAI,qBAAqB,CAAC;AAChC;AACA;AACA;AACA;AACA,MAAM,MAAM,aAAa;AACzB,QAAQ,CAAC,qBAAqB,GAAG,aAAa,CAAC,SAAS,MAAM,IAAI;AAClE,QAAQ,qBAAqB,KAAK,KAAK,CAAC;AACxC,YAAY,qBAAqB;AACjC,YAAY,EAAE,CAAC;AACf,MAAM,OAAO,kBAAkB,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;AAC/E,KAAK;AACL;AACA,IAAI,uBAAuB,EAAE,0BAA0B;AACvD,IAAI,sBAAsB,EAAE,0BAA0B;AACtD,IAAI,oBAAoB,EAAE,0BAA0B;AACpD,IAAI,mBAAmB,EAAE,0BAA0B;AACnD,GAAG,CAAC;AACJ;AACA,EAAE,SAAS,0BAA0B,CAAC,QAAQ,EAAE;AAChD,IAAI,IAAI,gBAAgB,CAAC;AACzB;AACA,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;AACzC;AACA;AACA;AACA,IAAI,MAAM,UAAU;AACpB,MAAM,CAAC,gBAAgB,GAAG,QAAQ,CAAC,MAAM,MAAM,IAAI;AACnD,MAAM,gBAAgB,KAAK,KAAK,CAAC;AACjC,UAAU,gBAAgB;AAC1B,UAAU,EAAE,CAAC;AACb;AACA,IAAI,KAAK,MAAM,QAAQ,IAAI,UAAU,EAAE;AACvC,MAAM,IAAI,mBAAmB,CAAC;AAC9B;AACA,MAAM,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;AAC5C;AACA;AACA;AACA,MAAM,MAAM,aAAa;AACzB,QAAQ,CAAC,mBAAmB,GAAG,QAAQ,CAAC,SAAS,MAAM,IAAI;AAC3D,QAAQ,mBAAmB,KAAK,KAAK,CAAC;AACtC,YAAY,mBAAmB;AAC/B,YAAY,EAAE,CAAC;AACf,MAAM,kBAAkB,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC;AACpE,KAAK;AACL;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;AACA,EAAE,SAAS,kBAAkB,CAAC,UAAU,EAAE,aAAa,EAAE;AACzD,IAAI,MAAM,QAAQ,GAAGA,eAAO,CAAC,aAAa,EAAE,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACrE;AACA,IAAI,KAAK,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,IAAI,QAAQ,EAAE;AAChD,MAAM,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AAC/B,QAAQ,OAAO,CAAC,WAAW;AAC3B,UAAU,IAAIC,yBAAY;AAC1B,YAAY,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,6BAA6B,CAAC;AAC7E,YAAY;AACZ,cAAc,KAAK,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC;AACtD,aAAa;AACb,WAAW;AACX,SAAS,CAAC;AACV,OAAO;AACP,KAAK;AACL;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;;;;"}